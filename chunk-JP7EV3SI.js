import{A as B,B as m,C as z,D as L,E as N,F as H,G,H as W,I as Y,L as C,N as F,P as K,Q as U,R as J,S as Q,T as X,U as Z,V as ee,W as x,X as te,a as $,b as R,c as d,d as w,e as P,f as j,g as a,h as s,i as A,j as M,k as h,l as S,m as v,n as y,o as _,p as l,q as r,r as p,s as T,t as f,u as O,v as D,w as u,x as k,y as V,z as q}from"./chunk-FPYKNECY.js";function se(t,e){if(t&1&&(l(0,"option",4),u(1),r()),t&2){let c=e.$implicit;h("value",c),a(),k(c)}}function pe(t,e){if(t&1&&(l(0,"option",3),u(1,"Select type"),r(),y(2,se,2,2,"option",4,v)),t&2){let c=O();a(2),_(c.options$())}}var oe=(()=>{let e=class e{constructor(n,i,o){this.pokiService=n,this.router=i,this.activeRoute=o,this.filterType=j.required(),this.options$=void 0,this.selectedItem=""}ngOnInit(){this.buildOptions(),this.activeRoute.queryParams.subscribe(n=>this.selectedItem=n[this.filterType()])}buildOptions(){return $(this,null,function*(){this.options$=yield this.pokiService.buildOptions(this.filterType())})}selectedOption(n){this.router.navigate([],{relativeTo:this.activeRoute,queryParams:{[this.filterType()]:n.value},queryParamsHandling:"merge"})}};e.\u0275fac=function(i){return new(i||e)(s(x),s(F),s(C))},e.\u0275cmp=d({type:e,selectors:[["app-select-option"]],inputs:{filterType:[R.SignalBased,"filterType"]},standalone:!0,features:[m],decls:4,vars:2,consts:[["select",""],[1,"select-wrapper"],["name","","id","type",1,"select",3,"change","ngModelChange","ngModel"],["disabled","","value","","selected",""],[3,"value"]],template:function(i,o){if(i&1){let g=T();l(0,"div",1)(1,"select",2,0),f("change",function(){w(g);let b=D(2);return P(o.selectedOption(b))}),B("ngModelChange",function(b){return w(g),q(o.selectedItem,b)||(o.selectedItem=b),P(b)}),M(3,pe,4,0),r()()}i&2&&(a(),V("ngModel",o.selectedItem),a(2),S(3,o.options$?3:-1))},dependencies:[Z,Q,X,J,K,U],styles:['@charset "UTF-8";.select[_ngcontent-%COMP%]{width:100%;padding:10px;border:none;-webkit-appearance:none;appearance:none;background-color:transparent;font-size:1rem;text-transform:capitalize}.select-wrapper[_ngcontent-%COMP%]{position:relative;background-color:#fff}.select-wrapper[_ngcontent-%COMP%]:after{content:"\\25bc";font-size:1rem;top:6px;right:10px;position:absolute}']});let t=e;return t})();var ce=t=>({display:t}),re=(()=>{let e=class e{constructor(n){this.pokeApiService=n,this.filterTypes=ee,this.displayPanel=!1}ngOnInit(){}showPanel(){this.displayPanel=!this.displayPanel}};e.\u0275fac=function(i){return new(i||e)(s(x))},e.\u0275cmp=d({type:e,selectors:[["app-filters"]],standalone:!0,features:[m],decls:15,vars:5,consts:[[1,"panel",3,"ngClass"],[1,"filter"],["for","type",1,"filter__title"],[3,"filterType"],[1,"filter__title"],[1,"mob-filter",3,"click"]],template:function(i,o){i&1&&(l(0,"div",0)(1,"div",1),p(2,"app-search-box"),r(),l(3,"div",1)(4,"label",2),u(5,"Type"),r(),p(6,"app-select-option",3),r(),l(7,"div",1)(8,"label",4),u(9,"Species"),r(),p(10,"app-select-option",3),r()(),l(11,"button",5),f("click",function(){return o.showPanel()}),p(12,"span")(13,"span")(14,"span"),r()),i&2&&(h("ngClass",z(3,ce,o.displayPanel)),a(6),h("filterType",o.filterTypes.TYPES),a(4),h("filterType",o.filterTypes.COLOR))},dependencies:[te,Y,G,oe],styles:["div.panel[_ngcontent-%COMP%]{padding:100px 30px 30px;height:100vh;position:fixed;width:100vw;transform:translate(-100vw);transition:transform .2s;background-color:#eee}div.panel.display[_ngcontent-%COMP%]{transform:translate(0)}@media screen and (min-width: 768px){div.panel[_ngcontent-%COMP%]{width:20vw;position:static;transform:translate(0);padding-top:50px}}.filter[_ngcontent-%COMP%]{margin-bottom:20px;padding-bottom:20px;border-bottom:1px solid rgb(190,190,190)}.filter__title[_ngcontent-%COMP%]{display:block;font-size:1.5rem;margin-right:20px;margin-bottom:20px}.mob-filter[_ngcontent-%COMP%]{padding:5px;display:flex;flex-direction:column;height:50px;width:50px;justify-content:space-around;align-items:center;border-radius:50%;position:fixed;box-shadow:0 0 5px #f1f1f1;border:none;top:10px;left:10px;background-color:#fff}@media screen and (min-width: 768px){.mob-filter[_ngcontent-%COMP%]{display:none}}.mob-filter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:7px;width:7px;background-color:#000;border-radius:50%}"]});let t=e;return t})();function de(t,e){if(t&1){let c=T();l(0,"button",2),f("click",function(){let i=w(c).$implicit,o=O(2);return P(o.removeFilter(i.key))}),l(1,"span"),u(2),r(),p(3,"img",3),r()}if(t&2){let c=e.$implicit;a(2),k(c.value)}}function me(t,e){if(t&1&&(l(0,"div",0),y(1,de,4,1,"button",1,v),L(3,"keyvalue"),r()),t&2){let c=O();a(),_(N(3,0,c.pills$()))}}var le=(()=>{let e=class e{constructor(n,i){this.activeRoute=n,this.router=i,this.pills$=A({}),this.Object=Object}ngOnInit(){this.activeRoute.queryParams.subscribe(n=>{this.pills$.set(n)})}removeFilter(n){this.router.navigate([],{relativeTo:this.activeRoute,queryParams:{[n]:null},queryParamsHandling:"merge"})}};e.\u0275fac=function(i){return new(i||e)(s(C),s(F))},e.\u0275cmp=d({type:e,selectors:[["app-pills"]],standalone:!0,features:[m],decls:1,vars:1,consts:[[1,"pills-wrapper"],[1,"pills-pill"],[1,"pills-pill",3,"click"],["src","../../../assets/close.svg","alt","close"]],template:function(i,o){i&1&&M(0,me,4,2,"div",0),i&2&&S(0,o.Object.keys(o.pills$()).length>0?0:-1)},dependencies:[W],styles:[".pills-wrapper[_ngcontent-%COMP%]{height:100px;position:sticky;top:0;background-color:#fff;display:flex;align-items:center;margin:0 20px}.pills-pill[_ngcontent-%COMP%]{border:1px solid;border-color:#404040;background-color:#0075be1a;padding:10px 40px;margin-right:10px;font-size:1.1rem;text-transform:capitalize;border-radius:20px;position:relative}.pills-pill[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:13px;width:13px;position:absolute;right:15px;top:50%;transform:translateY(-50%)}"]});let t=e;return t})();function fe(t,e){t&1&&p(0,"section")}var ae=(()=>{let e=class e{constructor(n,i){this.pokiApi=n,this.activeRoute=i,this.list$=this.pokiApi.throttledList,this.throttle=14,H(()=>console.log(this.list$()))}ngOnInit(){this.activeRoute.queryParams.subscribe(n=>{this.pokiApi.listPokemon(n)}),this.pokiApi.throttleList(this.throttle)}onScroll(n){let i=n.target;if(this.list$&&i.offsetHeight+i.scrollTop>=i.scrollHeight){let o=this.list$().data.length,g=this.list$().max;o<g&&this.pokiApi.throttleList(o+this.throttle)}}};e.\u0275fac=function(i){return new(i||e)(s(x),s(C))},e.\u0275cmp=d({type:e,selectors:[["app-grid"]],standalone:!0,features:[m],decls:5,vars:0,consts:[[1,"grid-wrapper",3,"scroll"],[1,"grid-grid"]],template:function(i,o){i&1&&(l(0,"div",0),f("scroll",function(E){return o.onScroll(E)}),p(1,"app-pills"),l(2,"div",1),y(3,fe,1,0,"section",null,v),r()()),i&2&&(a(3),_(o.list$().data))},dependencies:[le],styles:[".grid-wrapper[_ngcontent-%COMP%]{height:100vh;width:100vw;overflow-y:scroll}.grid-grid[_ngcontent-%COMP%]{height:100%;width:100%;display:grid;justify-content:center;margin-top:50px;grid-template-columns:repeat(2,170px);grid-auto-rows:170px;column-gap:20px;row-gap:20px}@media screen and (min-width: 768px){.grid-grid[_ngcontent-%COMP%]{width:80vw}}@media screen and (min-width: 1000px){.grid-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,250px)}}.grid-grid[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{background-color:green}"]});let t=e;return t})();var Ae=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=d({type:e,selectors:[["app-pokemon"]],standalone:!0,features:[m],decls:3,vars:0,template:function(i,o){i&1&&(l(0,"main"),p(1,"app-filters")(2,"app-grid"),r())},dependencies:[re,ae],styles:["main[_ngcontent-%COMP%]{display:flex;overflow-x:hidden}"]});let t=e;return t})();export{Ae as PokemonComponent};
