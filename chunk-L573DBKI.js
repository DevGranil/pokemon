import{$ as T,A as H,B as V,C as W,D as G,E as Q,F as u,G as Y,H as K,I as U,J,K as X,L as P,M as Z,N as M,Q as O,S as R,U as ee,V as te,W as ie,X as ne,Y as oe,Z as re,_ as se,a as A,aa as le,b as C,c as d,d as y,e as v,f as _,g as l,h as m,i as D,j as $,k as a,l as E,m as w,n as x,o as b,p as s,q as r,r as p,s as S,t as h,u as F,v as q,w as B,x as N,y as L,z as c}from"./chunk-DJ3SKV3X.js";function ge(i,e){if(i&1&&(s(0,"option",4),c(1),r()),i&2){let f=e.$implicit;a("value",f),l(),H(f)}}function he(i,e){if(i&1&&(s(0,"option",3),c(1,"Select type"),r(),x(2,ge,2,2,"option",4,w)),i&2){let f=F();l(2),b(f.options$())}}var ce=(()=>{let e=class e{constructor(n,t,o){this.pokiService=n,this.router=t,this.activeRoute=o,this.filterType=_.required(),this.options$=void 0,this.selectedItem=""}ngOnInit(){this.buildOptions(),this.activeRoute.queryParams.subscribe(n=>this.selectedItem=n[this.filterType()])}buildOptions(){return A(this,null,function*(){this.options$=yield this.pokiService.buildOptions(this.filterType())})}selectedOption(n){this.router.navigate([],{relativeTo:this.activeRoute,queryParams:{[this.filterType()]:n.value},queryParamsHandling:"merge"})}};e.\u0275fac=function(t){return new(t||e)(m(T),m(R),m(O))},e.\u0275cmp=d({type:e,selectors:[["app-select-option"]],inputs:{filterType:[C.SignalBased,"filterType"]},standalone:!0,features:[u],decls:4,vars:2,consts:[["select",""],[1,"select-wrapper"],["name","","id","type",1,"select",3,"change","ngModelChange","ngModel"],["disabled","","value","","selected",""],[3,"value"]],template:function(t,o){if(t&1){let g=S();s(0,"div",1)(1,"select",2,0),h("change",function(){y(g);let k=L(2);return v(o.selectedOption(k))}),Q("ngModelChange",function(k){return y(g),G(o.selectedItem,k)||(o.selectedItem=k),v(k)}),$(3,he,4,0),r()()}t&2&&(l(),W("ngModel",o.selectedItem),l(2),E(3,o.options$?3:-1))},dependencies:[re,ne,oe,ie,ee,te],styles:['@charset "UTF-8";.select[_ngcontent-%COMP%]{width:100%;padding:10px;border:none;-webkit-appearance:none;appearance:none;background-color:transparent;font-size:1rem;text-transform:capitalize}.select-wrapper[_ngcontent-%COMP%]{position:relative;background-color:#fff}.select-wrapper[_ngcontent-%COMP%]:after{content:"\\25bc";font-size:1rem;top:6px;right:10px;position:absolute}']});let i=e;return i})();function ye(i,e){if(i&1){let f=S();s(0,"button",2),h("click",function(){let t=y(f).$implicit,o=F(2);return v(o.removeFilter(t.key))}),s(1,"span"),c(2),r(),p(3,"img",3),r()}if(i&2){let f=e.$implicit;l(2),H(f.value)}}function ve(i,e){if(i&1&&(s(0,"div",0),x(1,ye,4,1,"button",1,w),U(3,"keyvalue"),r()),i&2){let f=F();a("ngClass",f.size$()),l(),b(J(3,1,f.pills$()))}}var z=(()=>{let e=class e{constructor(n,t){this.activeRoute=n,this.router=t,this.pills$=D({}),this.size$=_.required(),this.Object=Object}ngOnInit(){this.activeRoute.queryParams.subscribe(n=>{this.pills$.set(n)})}removeFilter(n){this.router.navigate([],{relativeTo:this.activeRoute,queryParams:{[n]:null},queryParamsHandling:"merge"})}};e.\u0275fac=function(t){return new(t||e)(m(O),m(R))},e.\u0275cmp=d({type:e,selectors:[["app-pills"]],inputs:{size$:[C.SignalBased,"size$"]},standalone:!0,features:[u],decls:1,vars:1,consts:[[1,"pills-wrapper",3,"ngClass"],[1,"pills-pill"],[1,"pills-pill",3,"click"],["src","../../../assets/close.svg","alt","close"]],template:function(t,o){t&1&&$(0,ve,4,3,"div",0),t&2&&E(0,o.Object.keys(o.pills$()).length>0?0:-1)},dependencies:[Z,M,P],styles:[".pills-wrapper[_ngcontent-%COMP%]{height:100px;align-items:center;display:flex;overflow-x:auto}.pills-wrapper.mob[_ngcontent-%COMP%]{background-color:transparent;margin-bottom:20px}@media screen and (min-width: 1000px){.pills-wrapper.mob[_ngcontent-%COMP%]{display:none}}.pills-wrapper.large[_ngcontent-%COMP%]{background-color:#fff;display:none;margin:0 20px}@media screen and (min-width: 1000px){.pills-wrapper.large[_ngcontent-%COMP%]{display:flex;position:sticky;top:0}}.pills-pill[_ngcontent-%COMP%]{border:1px solid;border-color:#404040;background-color:#0075be1a;padding:10px 40px;margin-right:10px;font-size:1.1rem;text-transform:capitalize;border-radius:20px;position:relative}.pills-pill[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:13px;width:13px;position:absolute;right:15px;top:50%;transform:translateY(-50%)}"]});let i=e;return i})();var Ce=i=>({display:i}),me=(()=>{let e=class e{constructor(n){this.pokeApiService=n,this.filterTypes=se,this.displayPanel=!1,this.total=this.pokeApiService.totalResults(),this.displayed=this.pokeApiService.displayedResults()}ngOnInit(){}showPanel(){this.displayPanel=!this.displayPanel}};e.\u0275fac=function(t){return new(t||e)(m(T))},e.\u0275cmp=d({type:e,selectors:[["app-filters"]],standalone:!0,features:[u],decls:26,vars:8,consts:[[1,"panel",3,"ngClass"],[3,"size$"],[1,"filter"],["for","type",1,"filter__title"],[3,"filterType"],[1,"filter__title"],[1,"mob-filter",3,"click"]],template:function(t,o){t&1&&(s(0,"div",0),p(1,"app-pills",1),s(2,"div",2),p(3,"app-search-box"),r(),s(4,"div",2)(5,"label",3),c(6,"Type"),r(),p(7,"app-select-option",4),r(),s(8,"div",2)(9,"label",5),c(10,"Species"),r(),p(11,"app-select-option",4),r(),s(12,"div",2)(13,"span"),c(14,"Showing "),r(),s(15,"span"),c(16),r()(),s(17,"div",2)(18,"span"),c(19,"Total results: "),r(),s(20,"span"),c(21),r()()(),s(22,"button",6),h("click",function(){return o.showPanel()}),p(23,"span")(24,"span")(25,"span"),r()),t&2&&(a("ngClass",Y(6,Ce,o.displayPanel)),l(),a("size$","mob"),l(6),a("filterType",o.filterTypes.TYPES),l(4),a("filterType",o.filterTypes.COLOR),l(5),V("(",o.displayed(),")"),l(5),V("(",o.total(),")"))},dependencies:[le,M,P,ce,z],styles:["div.panel[_ngcontent-%COMP%]{padding:100px 30px 30px;height:100vh;position:fixed;width:100vw;transform:translate(-100vw);transition:transform .2s;background-color:#eee}div.panel.display[_ngcontent-%COMP%]{transform:translate(0)}@media screen and (min-width: 768px){div.panel[_ngcontent-%COMP%]{width:20vw;position:static;transform:translate(0);padding-top:50px}}.filter[_ngcontent-%COMP%]{margin-bottom:20px;padding-bottom:20px;border-bottom:1px solid rgb(190,190,190)}.filter__title[_ngcontent-%COMP%]{display:block;font-size:1.5rem;margin-right:20px;margin-bottom:20px}.mob-filter[_ngcontent-%COMP%]{padding:5px;display:flex;flex-direction:column;height:50px;width:50px;justify-content:space-around;align-items:center;border-radius:50%;position:fixed;box-shadow:0 0 5px #f1f1f1;border:none;top:10px;left:10px;background-color:#fff}@media screen and (min-width: 768px){.mob-filter[_ngcontent-%COMP%]{display:none}}.mob-filter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:7px;width:7px;background-color:#000;border-radius:50%}"]});let i=e;return i})();var _e=(i,e)=>({show:i,hide:e}),ue=(()=>{let e=class e{constructor(){this.showHelper=_.required()}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d({type:e,selectors:[["app-scroll-hint"]],inputs:{showHelper:[C.SignalBased,"showHelper"]},standalone:!0,features:[u],decls:2,vars:4,consts:[[3,"ngClass"]],template:function(t,o){t&1&&(s(0,"div",0),c(1,"Scroll For More"),r()),t&2&&a("ngClass",K(1,_e,o.showHelper(),!o.showHelper()))},dependencies:[M,P],styles:["div[_ngcontent-%COMP%]{position:fixed;padding:15px 25px;background-color:#000000b3;color:#fff;bottom:30px;border-radius:30px;right:50%;transform:translate(50%);opacity:0;transition:opacity .3s}@media screen and (min-width: 1000px){div[_ngcontent-%COMP%]{right:50px;transform:unset}}div.show[_ngcontent-%COMP%]{opacity:1}div.hide[_ngcontent-%COMP%]{opacity:0}@keyframes _ngcontent-%COMP%_show{0%{opacity:0;display:none}50%{opacity:0}to{opacity:1;display:block}}@keyframes _ngcontent-%COMP%_hide{0%{opacity:1}90%{opacity:0}to{display:none}}"]});let i=e;return i})();var we=["grid"];function xe(i,e){i&1&&p(0,"section")}var fe=(()=>{let e=class e{set gridWrapper(n){setTimeout(()=>{this.grid=n.nativeElement},0)}constructor(n,t){this.pokiApi=n,this.activeRoute=t,this.grid=null,this.list$=this.pokiApi.throttledList,this.showHelper=!1,this.showHelperTimeout=null,this.throttle=14,X(()=>console.log(this.list$()))}ngOnInit(){this.activeRoute.queryParams.subscribe(n=>{this.pokiApi.listPokemon(n)}),this.pokiApi.throttleList(this.throttle),this.moreToShow()&&this.setShowHelper()}setShowHelper(){this.showHelperTimeout=window.setTimeout(()=>{this.moreToShow(!0)&&(this.showHelper=!0)},3e3)}onScroll(){this.grid&&(this.showHelper=!1,this.moreToShow()&&(this.setShowHelper(),this.pokiApi.throttleList(this.list$().data.length+this.throttle)))}moreToShow(n=!1){if(!this.grid)return!1;let t=this.list$().data.length;return this.grid.offsetHeight+this.grid.scrollTop>=this.grid.scrollHeight&&t<this.list$().max?!0:n?t<this.list$().max:!1}};e.\u0275fac=function(t){return new(t||e)(m(T),m(O))},e.\u0275cmp=d({type:e,selectors:[["app-grid"]],viewQuery:function(t,o){if(t&1&&q(we,5),t&2){let g;B(g=N())&&(o.gridWrapper=g.first)}},standalone:!0,features:[u],decls:7,vars:2,consts:[["grid",""],[1,"grid-wrapper",3,"scroll"],[3,"size$"],[1,"grid-grid"],[3,"showHelper"]],template:function(t,o){if(t&1){let g=S();s(0,"div",1,0),h("scroll",function(){return y(g),v(o.onScroll())}),p(2,"app-pills",2),s(3,"div",3),x(4,xe,1,0,"section",null,w),r(),p(6,"app-scroll-hint",4),r()}t&2&&(l(2),a("size$","large"),l(2),b(o.list$().data),l(2),a("showHelper",o.showHelper))},dependencies:[z,ue],styles:[".grid-wrapper[_ngcontent-%COMP%]{height:100vh;width:100vw;overflow-y:scroll;position:relative}.grid-pills[_ngcontent-%COMP%]{display:none}@media screen and (min-width: 1000px){.grid-pills[_ngcontent-%COMP%]{display:block}}.grid-grid[_ngcontent-%COMP%]{height:100%;width:100%;display:grid;justify-content:center;margin-top:50px;grid-template-columns:repeat(2,170px);grid-auto-rows:170px;column-gap:20px;row-gap:20px}@media screen and (min-width: 768px){.grid-grid[_ngcontent-%COMP%]{width:80vw}}@media screen and (min-width: 1000px){.grid-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,250px)}}.grid-grid[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{background-color:green}"]});let i=e;return i})();var Je=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d({type:e,selectors:[["app-pokemon"]],standalone:!0,features:[u],decls:3,vars:0,template:function(t,o){t&1&&(s(0,"main"),p(1,"app-filters")(2,"app-grid"),r())},dependencies:[me,fe],styles:["main[_ngcontent-%COMP%]{display:flex;overflow-x:hidden}"]});let i=e;return i})();export{Je as PokemonComponent};
