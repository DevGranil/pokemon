import{A as d,B as V,C as q,D as B,E as N,H as w,J as z,L as G,M as H,N as W,O as U,P as Y,Q as J,R as K,S as h,T as Q,a as P,b as T,c,d as S,e as M,f as k,g as s,h as p,i as I,j as f,k as F,l as C,m as _,n as x,o as a,p as r,q as l,r as E,s as u,t as A,u as R,v as g,w as $,x as j,y as D,z as L}from"./chunk-MAGOWLEX.js";function ne(i,e){if(i&1&&(a(0,"option",4),g(1),r()),i&2){let y=e.$implicit;f("value",y),s(),$(y)}}function oe(i,e){if(i&1&&(a(0,"option",3),g(1,"Select type"),r(),_(2,ne,2,2,"option",4,C)),i&2){let y=A();s(2),x(y.options$())}}var Z=(()=>{let e=class e{constructor(n,t,o){this.pokiService=n,this.router=t,this.activeRoute=o,this.filterType=k.required(),this.options$=void 0,this.selectedItem=""}ngOnInit(){this.buildOptions(),this.activeRoute.queryParams.subscribe(n=>this.selectedItem=n[this.filterType()])}buildOptions(){return P(this,null,function*(){this.options$=yield this.pokiService.buildOptions(this.filterType())})}selectedOption(n){this.router.navigate([],{relativeTo:this.activeRoute,queryParams:{[this.filterType()]:n.value},queryParamsHandling:"merge"})}};e.\u0275fac=function(t){return new(t||e)(p(h),p(z),p(w))},e.\u0275cmp=c({type:e,selectors:[["app-select-option"]],inputs:{filterType:[T.SignalBased,"filterType"]},standalone:!0,features:[d],decls:4,vars:2,consts:[["select",""],[1,"select-wrapper"],["name","","id","type",1,"select",3,"change","ngModelChange","ngModel"],["disabled","","value","","selected",""],[3,"value"]],template:function(t,o){if(t&1){let m=E();a(0,"div",1)(1,"select",2,0),u("change",function(){S(m);let v=R(2);return M(o.selectedOption(v))}),L("ngModelChange",function(v){return S(m),D(o.selectedItem,v)||(o.selectedItem=v),M(v)}),I(3,oe,4,0),r()()}t&2&&(s(),j("ngModel",o.selectedItem),s(2),F(3,o.options$?3:-1))},dependencies:[J,U,Y,W,G,H],styles:['@charset "UTF-8";.select[_ngcontent-%COMP%]{width:100%;padding:10px;border:none;-webkit-appearance:none;appearance:none;background-color:transparent;font-size:1rem;text-transform:capitalize}.select-wrapper[_ngcontent-%COMP%]{position:relative;background-color:#fff}.select-wrapper[_ngcontent-%COMP%]:after{content:"\\25bc";font-size:1rem;top:6px;right:10px;position:absolute}']});let i=e;return i})();var re=i=>({display:i}),ee=(()=>{let e=class e{constructor(n){this.pokeApiService=n,this.filterTypes=K,this.displayPanel=!1}ngOnInit(){}showPanel(){this.displayPanel=!this.displayPanel}};e.\u0275fac=function(t){return new(t||e)(p(h))},e.\u0275cmp=c({type:e,selectors:[["app-filters"]],standalone:!0,features:[d],decls:15,vars:5,consts:[[1,"panel",3,"ngClass"],[1,"filter"],["for","type",1,"filter__title"],[3,"filterType"],[1,"filter__title"],[1,"mob-filter",3,"click"]],template:function(t,o){t&1&&(a(0,"div",0)(1,"div",1),l(2,"app-search-box"),r(),a(3,"div",1)(4,"label",2),g(5,"Type"),r(),l(6,"app-select-option",3),r(),a(7,"div",1)(8,"label",4),g(9,"Species"),r(),l(10,"app-select-option",3),r()(),a(11,"button",5),u("click",function(){return o.showPanel()}),l(12,"span")(13,"span")(14,"span"),r()),t&2&&(f("ngClass",V(3,re,o.displayPanel)),s(6),f("filterType",o.filterTypes.TYPES),s(4),f("filterType",o.filterTypes.COLOR))},dependencies:[Q,N,B,Z],styles:["div.panel[_ngcontent-%COMP%]{padding:100px 30px 30px;height:100vh;position:fixed;width:100vw;transform:translate(-100vw);transition:transform .2s;background-color:#eee}div.panel.display[_ngcontent-%COMP%]{transform:translate(0)}@media screen and (min-width: 768px){div.panel[_ngcontent-%COMP%]{width:20vw;position:static;transform:translate(0);padding-top:50px}}.filter[_ngcontent-%COMP%]{margin-bottom:20px;padding-bottom:20px;border-bottom:1px solid rgb(190,190,190)}.filter__title[_ngcontent-%COMP%]{display:block;font-size:1.5rem;margin-right:20px;margin-bottom:20px}.mob-filter[_ngcontent-%COMP%]{padding:5px;display:flex;flex-direction:column;height:50px;width:50px;justify-content:space-around;align-items:center;border-radius:50%;position:fixed;box-shadow:0 0 5px #f1f1f1;border:none;top:10px;left:10px;background-color:#fff}@media screen and (min-width: 768px){.mob-filter[_ngcontent-%COMP%]{display:none}}.mob-filter[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:7px;width:7px;background-color:#000;border-radius:50%}"]});let i=e;return i})();function ae(i,e){i&1&&l(0,"section")}var te=(()=>{let e=class e{constructor(n,t){this.pokiApi=n,this.activeRoute=t,this.list$=this.pokiApi.throttledList,this.throttle=10,q(()=>console.log(this.list$()))}ngOnInit(){this.activeRoute.queryParams.subscribe(n=>{this.pokiApi.listPokemon(n)}),this.pokiApi.throttleList(this.throttle)}onScroll(n){let t=n.target;if(this.list$&&t.offsetHeight+t.scrollTop>=t.scrollHeight){let o=this.list$().data.length,m=this.list$().max;o<m&&this.pokiApi.throttleList(o+this.throttle)}}};e.\u0275fac=function(t){return new(t||e)(p(h),p(w))},e.\u0275cmp=c({type:e,selectors:[["app-grid"]],standalone:!0,features:[d],decls:3,vars:0,consts:[[1,"grid",3,"scroll"]],template:function(t,o){t&1&&(a(0,"div",0),u("scroll",function(b){return o.onScroll(b)}),_(1,ae,1,0,"section",null,C),r()),t&2&&(s(),x(o.list$().data))},styles:[".grid[_ngcontent-%COMP%]{height:100vh;width:100vw;padding-top:50px;padding-bottom:50px;display:grid;justify-content:center;overflow-y:scroll;grid-template-columns:repeat(2,170px);grid-auto-rows:170px;column-gap:20px;row-gap:20px}@media screen and (min-width: 768px){.grid[_ngcontent-%COMP%]{width:80vw}}@media screen and (min-width: 1000px){.grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,250px)}}.grid[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{background-color:green}"]});let i=e;return i})();var Se=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c({type:e,selectors:[["app-pokemon"]],standalone:!0,features:[d],decls:3,vars:0,template:function(t,o){t&1&&(a(0,"main"),l(1,"app-filters")(2,"app-grid"),r())},dependencies:[ee,te],styles:["main[_ngcontent-%COMP%]{display:flex;overflow-x:hidden}"]});let i=e;return i})();export{Se as PokemonComponent};
